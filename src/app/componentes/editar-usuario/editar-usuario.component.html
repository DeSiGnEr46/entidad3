<div class="container" style="padding-top: 10px;">

    <!-- Formulario de cambio de datos personales-->
    <form [formGroup]="cambioDatos" (ngSubmit)="editarInfo()">
      <div class="modal-body">
        <p class="h2-responsive text-center">Modificar información del usuario</p>
        <hr>
  
        <!-- Formulario de cambio de nombre y/o correo -->
        <div class="md-form">
          <i class="fa fa-user prefix grey-text"></i>
          <input type="text" id="nombre" class="form-control form-control-sm" formControlName="nombre">
          <!-- Errores de validación -->
          <div *ngIf="cambioDatos.controls['nombre'].errors?.minlength" class="form-control-feedback">
            Longitud mínima necesaria {{ cambioDatos.controls['nombre'].errors.minlength.requiredLength }}.
          </div>
          <div *ngIf="cambioDatos.controls['nombre'].errors?.novacio && !cambioDatos.controls['nombre'].pristine" class="form-control-feedback">
            El campo no puede estar vacío.
          </div>
        </div>
  
        <div class="md-form">
          <i class="fa fa-envelope prefix grey-text"></i>
          <input type="email" id="correo" class="form-control form-control-sm" formControlName="correo">
          <!-- Errores de validación -->
          <div *ngIf="cambioDatos.controls['correo'].errors?.novacio && !cambioDatos.controls['correo'].pristine" class="form-control-feedback">
            El correo no puede estar vacío.
          </div>
          <div *ngIf="cambioDatos.controls['correo'].errors?.pattern" class="form-control-feedback">
            El formato no es correcto.
          </div>
        </div>
  
        <!-- Desplegable para cambiar permisos de usuario -->
        <div class="md-form">
          <i class="fa fa-lock prefix grey-text"></i>
          <div class="md-form" style="padding-left: 30px;">
            <select class="form-control" id="selectp" formControlName="permisos">
              <option [selected]="usuario.permisos == 'admin'" value="admin"> Admin </option>
              <option [selected]="usuario.permisos != 'admin'" value="usuario"> Usuario </option>
            </select>
          </div>
        </div>
        <!-- Mensajes de confirmación/error -->
        <div class="green-text" *ngIf="editok">
          Los cambios se han guardado correctamente.
        </div>
        <div class="red-text" *ngIf="!editok && editok != null">
          Se ha producido un error en el servidor.
        </div>
  
        <div class="text-center mb-10">
          <button [disabled]="!cambioDatos" class="btn btn-unique waves-light rounded aqua-grad" type="submit" mdbWavesEffect>Modificar
            <i class="fa fa-paper-plane-o ml-1"></i>
          </button>
        </div>
      </div>
    </form>
  </div>
  
  <!-- Formulario de cambio de contraseña-->
  <div class="container" style="padding-top: 40px;">
    <form [formGroup]="cambioPass" (ngSubmit)="cambiarPassword()">
      <div class="modal-body">
        <p class="h2-responsive text-center">Cambiar contraseña</p>
        <hr>
  
        <div class="md-form">
          <i class="fa fa-lock prefix grey-text"></i>
          <input type="password" id="nuevaPass" formControlName="nuevaPass" placeholder="Nueva contraseña" class="form-control form-control-sm">
          <!-- Errores de validación -->
          <div *ngIf="cambioPass.controls['nuevaPass'].errors?.pattern" class="form-control-feedback">
            La contraseña debe contener al menos una minúscula, una mayúscula, un número, un carácter especial y una longitud de al menos
            5 caracteres.
          </div>
          <div *ngIf="cambioPass.controls['nuevaPass'].errors?.novacio && !cambioPass.controls['nuevaPass'].pristine" class="form-control-feedback">
            El campo no puede estar vacío.
          </div>
        </div>
  
        <div class="md-form">
          <i class="fa fa-lock prefix grey-text"></i>
          <input type="password" id="rePass" formControlName="rePass" placeholder="Repita la contraseña" class="form-control form-control-sm">
          <!-- Errores de validación -->
          <div *ngIf="cambioPass.controls['rePass'].errors?.coinciden && !cambioPass.controls['rePass'].pristine" class="form-control-feedback">
            Las contraseñas no coinciden.
          </div>
          <div *ngIf="cambioPass.controls['rePass'].errors?.novacio && !cambioPass.controls['rePass'].pristine" class="form-control-feedback">
            El campo no puede estar vacío.
          </div>
        </div>
        <!-- Mensajes de confirmación/error -->
        <div class="green-text" *ngIf="passok">
          Los cambios se han guardado correctamente.
        </div>
        <div class="red-text" *ngIf="!passok && passok != null">
          Se ha producido un error en el servidor.
        </div>
  
        <div class="text-center">
          <button [disabled]="!cambioPass.valid" class="btn btn-unique waves-light rounded aqua-grad" mdbWavesEffect>Cambiar
            <i class="fa fa-paper-plane-o ml-1"></i>
          </button>
        </div>
      </div>
    </form>
  </div>